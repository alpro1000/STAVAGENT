# ๐๏ธ ะััะธัะตะบัััะฐ Monolit Planner

## ๐ ะกะพะดะตัะถะฐะฝะธะต
1. [ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ](#ะผะธะบัะพัะตัะฒะธัะฝะฐั-ะฐััะธัะตะบัััะฐ)
2. [ะะฐะฒะพะด-ะะธะพัะบ ะผะพะดะตะปั](#ะทะฐะฒะพะด-ะบะธะพัะบ-ะผะพะดะตะปั)
3. [ะกะปะพะธ ัะธััะตะผั](#ัะปะพะธ-ัะธััะตะผั)
4. [ะะทะฐะธะผะพะดะตะนััะฒะธะต ัะตัะฒะธัะพะฒ](#ะฒะทะฐะธะผะพะดะตะนััะฒะธะต-ัะตัะฒะธัะพะฒ)

---

## ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ

### ะัะธะฝัะธะฟ: ะะฐะฒะพะด-ะะธะพัะบ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  MONOLIT-PLANNER (ะะะะกะ)                   โ
โ  ะะพะปัะทะพะฒะฐัะตะปััะบะพะต ะฟัะธะปะพะถะตะฝะธะต                โ
โ  โโ Frontend (React) - UI ะดะปั ะฟัะพะตะบัะพะฒ     โ
โ โโ Backend (Express 3001) - REST API       โ
โ  โโ DB: SQLite/PostgreSQL ั OTSKP ะบะพะดะฐะผะธ   โ
โ                                             โ
โ  ะคัะฝะบัะธะธ:                                  โ
โ  โโ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะฐะผะธ                   โ
โ  โโ ะะพะธัะบ OTSKP ะบะพะดะพะฒ                      โ
โ  โโ ะะฐััะตัั KROS                           โ
โ  โโ ะะพะดััะฐะฒะปะตะฝะธะต ะบะพะดะพะฒ ะธะท ัะฒะพะตะน ะะ         โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ HTTP /api/parse/xlsx
               โ (ะพัะฟัะฐะฒะปัะตั Excel)
               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  CONCRETE-AGENT (ะะะะะ)                     โ
โ  ะัะดะตะปัะฝัะน ะผะธะบัะพัะตัะฒะธั (Python FastAPI)     โ
โ  โโ ะะฐััะตัั: Excel/XML/PDF                 โ
โ  โโ LLM ะผะพะดัะปะธ: Claude AI                  โ
โ  โโ ะะ: PostgreSQL (ัะฒะพั)                  โ
โ  โโ ะะฐ ะพัะดะตะปัะฝะพะผ ะฟะพััั (8000)              โ
โ                                             โ
โ  ะคัะฝะบัะธะธ:                                  โ
โ  โโ ะะฐััะธะฝะณ Excel ะปัะฑะพะน ััััะบัััั          โ
โ  โโ ะะทะฒะปะตัะตะฝะธะต ะฑะตัะพะฝะฝัั ัะฐะฑะพั              โ
โ  โโ AI ะพะฑะพะณะฐัะตะฝะธะต ะพะฟะธัะฐะฝะธะน                 โ
โ  โโ ะะฟัะตะดะตะปะตะฝะธะต concrete_class             โ
โ  โโ ะะฟัะตะดะตะปะตะฝะธะต ะพะฑัะตะผะฐ ะฑะตัะพะฝะฐ              โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ JSON response
               โ {
               โ   positions: [
               โ     {
               โ       description: "ะคัะฝะดะฐะผะตะฝั C30/37",
               โ       quantity: 89.0,
               โ       unit: "mยณ",
               โ       concrete_class: "C30/37"  โ AI ะฝะฐัะตะป!
               โ     }
               โ   ]
               โ }
               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  MONOLIT-PLANNER ะฟะพะปััะฐะตั parsed positions  โ
โ  โโ ะะพะดััะฐะฒะปัะตั OTSKP ะบะพะดั ะธะท ัะฒะพะตะน ะะ    โ
โ  โโ ะััะฟะฟะธััะตั ะฟะพ ัะฐัััะผ ะพะฑัะตะบัะฐ           โ
โ  โโ ะะพะบะฐะทัะฒะฐะตั preview ะฟะพะปัะทะพะฒะฐัะตะปั        โ
โ  โโ ะกะพััะฐะฝัะตั ะฒ ัะฒะพะตะน ะะ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะปััะตะฒัะต ะพัะปะธัะธั ะพั ะผะพะฝะพะปะธัะฐ:
| ะัะฟะตะบั | ะะพะฝะพะปะธั โ | ะะธะบัะพัะตัะฒะธัั โ |
|--------|----------|-----------------|
| **concrete-agent** | Dependency (ะธะผะฟะพัั) | ะัะดะตะปัะฝัะน ัะตัะฒะธั |
| **ะะดะต ะทะฐะฟััะบะฐะตััั** | ะ ะฟัะพัะตััะต Monolit | ะะฐ ัะฒะพะตะผ ัะตัะฒะตัะต (8000) |
| **ะะ** | ะะฑัะฐั | ะัะดะตะปัะฝัะต ะะ |
| **LLM ะบะปััะธ** | ะะดะธะฝ ะฝะฐะฑะพั | ะกะฒะพะธ ะฒ ะบะฐะถะดะพะผ ัะตัะฒะธัะต |
| **ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต** | ะะฐัััะฐะฑะธัะพะฒะฐัั ะฒัะต | Scale concrete-agent ะพัะดะตะปัะฝะพ |
| **ะัะบะฐะท ัะตัะฒะธัะฐ** | ะะฐะดะฐะตั ะฒะตัั ัะตัะฒะตั | Graceful degradation |

---

## ะะฐะฒะพะด-ะะธะพัะบ ะผะพะดะตะปั

### ะะธะพัะบ (Monolit-Planner)
**ะงัะพ ะดะตะปะฐะตั:**
- ะฃะฟัะฐะฒะปัะตั ะฟัะพะตะบัะฐะผะธ (ะผะพััั, ะทะดะฐะฝะธั, ะดะพัะพะณะธ, ะธ ั.ะด.)
- ะฅัะฐะฝะธั OTSKP ะบะพะดั (17904 ะบะพะดะพะฒ)
- ะะฐัััะธััะฒะฐะตั KROS
- ะฃะฟัะฐะฒะปัะตั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ (ะฐะฒัะพัะธะทะฐัะธั)

**ะะพะณะดะฐ ะทะฐะฒะธัะธั ะพั ะะฐะฒะพะดะฐ:**
- ะัะธ ะทะฐะณััะทะบะต Excel ัะพ ัะผะตัะพะน
- ะัะถะฝะพ ะฟะฐััะธัั ะฝะตัะฟะพััะดะพัะตะฝะฝัะน Excel
- ะัะถะฝะพ ะธะทะฒะปะตัั ะฑะตัะพะฝะฝัะต ัะฐะฑะพัั
- ะัะถะฝะพ ะพะฑะพะณะฐัะธัั AI

**ะะพะณะดะฐ ะฝะตะทะฐะฒะธัะธะผ:**
- ะะพะธัะบ OTSKP ะบะพะดะพะฒ (ัะฒะพั ะะ)
- ะะฐััะตัั (ัะฒะพั ะปะพะณะธะบะฐ)
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะฐะผะธ (ัะฒะพั ะะ)

### ะะฐะฒะพะด (Concrete-Agent)
**ะกะฟะตัะธะฐะปะธะทะฐัะธั:**
- ะะฐััะธะฝะณ ะดะพะบัะผะตะฝัะพะฒ (Excel, PDF, XML)
- ะะทะฒะปะตัะตะฝะธะต ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั
- LLM ะพะฑะพะณะฐัะตะฝะธะต
- ะะฟัะตะดะตะปะตะฝะธะต ัะธะฟะพะฒ ะฑะตัะพะฝะฐ, ะพะฑัะตะผะพะฒ

**ะะพัะตะผั ะพัะดะตะปัะฝัะน:**
- ะขัะถะตะปัะต ะฟะฐััะตัั (BeautifulSoup, pdfplumber)
- LLM ะฒัะทะพะฒั (ะผะตะดะปะตะฝะฝัะต, ะดะพัะพะณะธะต)
- ะะพะถะฝะพ ะผะฐัััะฐะฑะธัะพะฒะฐัั ะฝะตะทะฐะฒะธัะธะผะพ
- ะะพะถะฝะพ ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐัั ะฒ ะดััะณะธั ะฟัะพะตะบัะฐั

---

## ะกะปะพะธ ัะธััะตะผั

### ะกะปะพะน 1: MONOLIT-PLANNER Backend

**ะคะฐะนะปะพะฒะฐั ััััะบัััะฐ:**
```
backend/src/
โโ routes/
โ  โโ auth.js ................... ะะฒัะพัะธะทะฐัะธั (ะพะฑัะฐั)
โ  โโ monolithProjects.js ......... ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะฐะผะธ (ะะะะซะ)
โ  โโ parts.js ................... ะฃะฟัะฐะฒะปะตะฝะธะต ัะฐัััะผะธ ะพะฑัะตะบัะพะฒ (ะะะะซะ)
โ  โโ positions.js ............... ะะพะทะธัะธะธ (ัะฐะฑะพัั)
โ  โโ otskp.js ................... ะะพะธัะบ OTSKP ะบะพะดะพะฒ
โ  โโ snapshots.js ............... ะกะฝะธะผะบะธ/ะฒะตััะธะพะฝะธัะพะฒะฐะฝะธะต
โ
โโ services/
โ  โโ concreteExtractor.js ........ ะกะปะพะฒะฐัั detection ะฑะตัะพะฝะฝัั ัะฐะฑะพั
โ  โโ partDetector.js ............ ะะฟัะตะดะตะปะตะฝะธะต ัะฐััะธ ะพะฑัะตะบัะฐ (ะะะะซะ)
โ  โโ positionGrouper.js ......... ะััะฟะฟะธัะพะฒะบะฐ ะฟะพะทะธัะธะน (ะะะะซะ)
โ  โโ calculator.js ............. ะะฐััะตัั KROS
โ  โโ concreteAgentClient.js ..... HTTP ะบะปะธะตะฝั ะบ ะทะฐะฒะพะด (ะะะะซะ)
โ
โโ db/
โ  โโ migrations.js ............. ะกะพะทะดะฐะฝะธะต ัะฐะฑะปะธั
โ
โโ middleware/
   โโ auth.js ................... JWT middleware
```

**ะัะฝะพะฒะฝัะต endpoint'ั:**
```javascript
// ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะตะบัะฐะผะธ
POST   /api/monolith-projects        // ะกะพะทะดะฐัั ะฝะพะฒัะน ะฟัะพะตะบั
GET    /api/monolith-projects        // ะกะฟะธัะพะบ ะฟัะพะตะบัะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปั
GET    /api/monolith-projects/:id    // ะะพะปััะธัั ะฟัะพะตะบั
PUT    /api/monolith-projects/:id    // ะะฑะฝะพะฒะธัั ะฟัะพะตะบั
DELETE /api/monolith-projects/:id    // ะฃะดะฐะปะธัั ะฟัะพะตะบั

// ะะฐะณััะทะบะฐ ะธ ะฟะฐััะธะฝะณ Excel
POST   /api/monolith-projects/upload // ะะฐะณััะทะธัั Excel
GET    /api/monolith-projects/preview // Preview ะฟะพัะปะต ะฟะฐััะธะฝะณะฐ

// ะฃะฟัะฐะฒะปะตะฝะธะต ัะฐัััะผะธ
POST   /api/parts                     // ะะพะฑะฐะฒะธัั ัะฐััั
DELETE /api/parts/:id                 // ะฃะดะฐะปะธัั ัะฐััั

// ะะพะธัะบ OTSKP (ัะถะต ะตััั)
GET    /api/otskp/search?q=xxx        // ะะพะธัะบ ะฟะพ ะบะพะดั/ะฝะฐะทะฒะฐะฝะธั
```

### ะกะปะพะน 2: CONCRETE-AGENT Backend

**ะคะฐะนะปะพะฒะฐั ััััะบัััะฐ (ะฝะต ะผะตะฝัะตััั):**
```
app/
โโ parsers/
โ  โโ excel_parser.py
โ  โโ pdf_parser.py
โ  โโ xml_parser.py
โ
โโ services/
โ  โโ position_enricher.py
โ  โโ task_classifier.py
โ
โโ api/
   โโ routes.py ................. REST endpoints
```

**ะะปััะตะฒะพะน endpoint:**
```python
POST /api/parse/xlsx
Input:  ัะฐะนะป XLSX
Output: {
  "positions": [
    {
      "description": "Betonรกลพ zรกkladลฏ",
      "quantity": 45.0,
      "unit": "mยณ",
      "concrete_class": "C30/37"
    }
  ]
}
```

### ะกะปะพะน 3: Frontend

**ะกัััะบัััะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ:**
```
frontend/src/
โโ pages/
โ  โโ ProjectsPage.tsx .......... ะกะฟะธัะพะบ ะฟัะพะตะบัะพะฒ
โ  โโ CreateProjectPage.tsx ..... ะกะพะทะดะฐะฝะธะต (ะฒัะฑะพั ัะธะฟะฐ)
โ  โโ UploadPage.tsx ............ ะะฐะณััะทะบะฐ Excel
โ  โโ PreviewPage.tsx ........... Preview ะฟะตัะตะด ัะพััะฐะฝะตะฝะธะตะผ (ะะะะซะ)
โ  โโ ProjectDetailPage.tsx ..... ะะตัะฐะปั ะฟัะพะตะบัะฐ
โ
โโ components/
โ  โโ shared/
โ  โ  โโ Header.tsx
โ  โ  โโ Sidebar.tsx
โ  โ  โโ OtskpAutocomplete.tsx
โ  โ
โ  โโ projects/
โ  โ  โโ ProjectForm.tsx
โ  โ  โโ ProjectList.tsx
โ  โ  โโ ObjectTypeSelector.tsx (ะะะะซะ)
โ  โ
โ  โโ editor/
โ     โโ PartEditor.tsx (ะะะะซะ)
โ     โโ PositionsTable.tsx
โ     โโ PreviewGroups.tsx (ะะะะซะ)
โ
โโ hooks/
   โโ useProjects.ts
   โโ useUpload.ts (ะะะะซะ)
   โโ useOtskp.ts
```

---

## ะะทะฐะธะผะพะดะตะนััะฒะธะต ัะตัะฒะธัะพะฒ

### ะกัะตะฝะฐัะธะน 1: ะะฐะณััะทะบะฐ Excel ัะพ ัะผะตัะพะน

```
ะะพะปัะทะพะฒะฐัะตะปั
  โ ะทะฐะณััะถะฐะตั XLSX
  โ
Frontend
  โโ POST /api/monolith-projects/upload
  โ  (ัะฐะนะป XLSX)
  โ
Backend Monolit-Planner
  โโ ะะพะปััะฐะตั XLSX
  โโ ะัะฟัะฐะฒะปัะตั ะฒ Concrete-Agent
  โ  โโ POST http://concrete-agent:8000/api/parse/xlsx
  โ
Concrete-Agent
  โโ ะะฐััะธั Excel
  โโ ะะฐัะพะดะธั ะฑะตัะพะฝะฝัะต ัะฐะฑะพัั
  โโ ะะฑะพะณะฐัะฐะตั AI (concrete_class, volumes)
  โโ ะะพะทะฒัะฐัะฐะตั JSON
  โ
  โ {
  โ   "positions": [
  โ     {
  โ       "description": "Betonรกลพ zรกkladลฏ",
  โ       "quantity": 45.0,
  โ       "concrete_class": "C30/37"
  โ     }
  โ   ]
  โ }
  โ
Backend Monolit-Planner
  โโ ะจะฐะณ 1: Part Detection
  โ  โโ detectPart("Betonรกลพ zรกkladลฏ") โ "ZรKLADY"
  โ
  โโ ะจะฐะณ 2: OTSKP Matching
  โ  โโ SELECT * FROM otskp_codes
  โ     WHERE concrete_class = 'C30/37'
  โ     AND description LIKE '%zรกklady%'
  โ     โ "121-01-001"
  โ
  โโ ะจะฐะณ 3: Group by Part
  โ  โโ ZรKLADY: [
  โ       { qty: 45, otskp: "121-01-001", ... }
  โ     ]
  โ
  โโ ะจะฐะณ 4: Return Preview
     โโ {
          "groups": {
            "ZรKLADY": [...]
          },
          "metadata": { ... }
        }
  โ
Frontend
  โโ ะะพะบะฐะทัะฒะฐะตั preview
  โ  ZรKLADY (45 mยณ, 1 ะฟะพะทะธัะธั)
  โ  [Potvrdit] [Upravit] [Zruลกit]
  โ
ะะพะปัะทะพะฒะฐัะตะปั
  โโ ะัะฑะธัะฐะตั [Potvrdit]
  โ
Backend
  โโ ะกะพััะฐะฝัะตั ะฒ ะะ
  โ  CREATE monolith_projects (...)
  โ  CREATE parts (ZรKLADY, ...)
  โ  CREATE positions (45 mยณ, ...)
  โโ ะะพะทะฒัะฐัะฐะตั success
  โ
Frontend
  โโ ะะพะบะฐะทัะฒะฐะตั ัะพะทะดะฐะฝะฝัะน ะฟัะพะตะบั
```

### ะกัะตะฝะฐัะธะน 2: ะััะฝะพะต ัะพะทะดะฐะฝะธะต ะฑะตะท Excel

```
ะะพะปัะทะพะฒะฐัะตะปั
  โ ะฒัะฑะธัะฐะตั "ะกะพะทะดะฐัั ะฝะพะฒัะน ะฟัะพะตะบั"
  โ
Frontend: ObjectTypeSelector
  โโ Most / Budova / Garรกลพ / Vlastnรญ
  โ
ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั "Most"
  โ
Frontend: ProjectForm
  โโ ะะฐะณััะถะฐัััั ัะฐะฑะปะพะฝั ัะฐััะตะน
  โ  GET /api/part-templates?type=bridge
  โ  โ ["ZรKLADY", "OPฤRY", "PILรลE", ...]
  โ
  โโ ะะพะปัะทะพะฒะฐัะตะปั ะฒะฒะพะดะธั:
  โ  - project_id: "SO201"
  โ  - object_name: "Most na D6"
  โ
  โโ ะะฐะถะธะผะฐะตั "Vytvoลit"
    โ
Backend
  โโ INSERT INTO monolith_projects (...)
  โโ INSERT INTO parts (...)  โ ะธะท ัะฐะฑะปะพะฝะฐ
  โโ ะะพะทะฒัะฐัะฐะตั project_id
    โ
Frontend
  โโ ะัะบััะฒะฐะตั ProjectDetailPage
     โโ ะขะฐะฑะปะธัะฐ ั ัะฐัััะผะธ (ZรKLADY, OPฤRY, ...)
     โโ ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะดะพะฑะฐะฒะปััั ะฟะพะทะธัะธะธ ะฒัััะฝัั
```

### ะกัะตะฝะฐัะธะน 3: ะะพะธัะบ OTSKP ะบะพะดะพะฒ (ะฒัะตะณะดะฐ ัะฐะฑะพัะฐะตั)

```
ะะพะปัะทะพะฒะฐัะตะปั
  โ ะฝะฐัะธะฝะฐะตั ะฟะตัะฐัะฐัั ะบะพะด ะฒ ะฟะพะปะต ะฟะพะธัะบะฐ
  โ "321"
  โ
Frontend: OtskpAutocomplete
  โโ GET /api/otskp/search?q=321
  โ
Backend
  โโ SELECT * FROM otskp_codes
  โ  WHERE code LIKE '321%' OR search_name LIKE '%321%'
  โ  LIMIT 20
  โ
Frontend
  โโ ะะพะบะฐะทัะฒะฐะตั ัะตะทัะปััะฐัั
  โ 321001 - ะฃะบะปะฐะดะบะฐ ััะฝะดะฐะผะตะฝัะฐ
  โ 321002 - ะะตัะพะฝะธัะพะฒะฐะฝะธะต...
  โ ...
  โ
ะะพะปัะทะพะฒะฐัะตะปั
  โโ ะัะฑะธัะฐะตั ะฝัะถะฝัะน ะบะพะด โ ัะพััะฐะฝัะตััั ะฒ ะฟะพะทะธัะธะธ
```

---

## ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

### ะัะปะธ Concrete-Agent ะฝะตะดะพัััะฟะตะฝ

```
ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั XLSX
  โ
Backend ะฟััะฐะตััั ะพัะฟัะฐะฒะธัั ะฒ Concrete-Agent
  โโ Connection timeout
  โ
  โโ Graceful Degradation:
     โโ ะะ ะฟะฐะดะฐะตั ะฒะตัั ัะตัะฒะตั โ
     โโ ะะพะบะฐะทัะฒะฐะตั ะฟะพะปัะทะพะฒะฐัะตะปั:
     โ  "ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะฐััะธะฝะณ ะฝะตะดะพัััะฟะตะฝ.
     โ   ะั ะผะพะถะตัะต:
     โ   1. ะะพะฟัะพะฑะพะฒะฐัั ะฟะพะทะถะต
     โ   2. ะะฐะณััะทะธัั ะฒัััะฝัั"
     โ
     โโ ะะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัั ะปะพะบะฐะปัะฝัะน ะฟะฐััะตั (fallback)
        โโ ะะฐะทะพะฒัะน Excel ะฟะฐััะตั
        โโ ะะตะท AI ะพะฑะพะณะฐัะตะฝะธั
        โโ ะัััะต ัะตะผ ะฝะธัะตะณะพ
```

### ะัะปะธ OTSKP ะบะพะดั ะฝะตะดะพัััะฟะฝั

```
ะะต ะบัะธัะธัะฝะพ, ะฟะพัะพะผั ััะพ:
โโ Codes ะทะฐะณััะถะฐัััั ะฒ ัะพะฝะต ะฟัะธ ััะฐััะต
โโ ะัะปะธ loading ะตัะต ะธะดะตั โ Graceful wait
โโ ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะธัะบะฐัั ะฒัััะฝัั
โโ ะะพะดั ะฑัะดัั ะณะพัะพะฒั ะฒ ัะตัะตะฝะธะต 30-60 ัะตะบ
```

---

## ะะตะทะพะฟะฐัะฝะพััั

### Trust Proxy
```javascript
// ะะบะปััะตะฝ ะขะะะฌะะ ะฝะฐ Render (ะทะฐัะธัะฐ ะพั IP spoofing)
const shouldTrustProxy =
  process.env.RENDER === 'true' ||
  process.env.TRUST_PROXY === 'true';

if (shouldTrustProxy) {
  app.set('trust proxy', 1);
}

// ะ dev mode (localhost) โ ะฝะต ะฒะบะปััะตะฝ (ะฑะตะทะพะฟะฐัะฝะพ)
```

### Rate Limiting
- Auth: 5 ะฟะพะฟััะพะบ ะทะฐ 15 ะผะธะฝัั
- Upload: 10 ะทะฐะณััะทะพะบ ะทะฐ ัะฐั
- OTSKP search: 50 ะฟะพะธัะบะพะฒ ะทะฐ 15 ะผะธะฝัั
- General API: 100 ะทะฐะฟัะพัะพะฒ ะทะฐ 15 ะผะธะฝัั

### Authentication
- JWT tokens
- Middleware ะฟัะพะฒะตััะตั ัะพะบะตะฝ ะฝะฐ ะทะฐัะธัะตะฝะฝัั ะผะฐัััััะฐั
- requireAuth() in ะฒัะตั ะฟัะธะฒะฐัะฝัั routes

---

## ะะฐะทะฒะตัััะฒะฐะฝะธะต

### Render deployment

```
Frontend:
  - ะผะพะฝะพlit-planner-frontend.onrender.com
  - React SPA
  - Static hosting

Backend (Monolit-Planner):
  - monolit-planner-api.onrender.com
  - Express.js
  - PostgreSQL (Render managed)

Concrete-Agent:
  - concrete-agent.onrender.com (ะบะพะณะดะฐ ะดะพะฑะฐะฒะธะผ)
  - FastAPI
  - ะกะฒะพั PostgreSQL
```

### Environment variables

```bash
# Monolit-Planner Backend
DATABASE_URL=postgresql://...      # PostgreSQL ะฝะฐ Render
CORS_ORIGIN=https://monolit-...   # Frontend URL
RENDER=true                        # Render detection
JWT_SECRET=...                     # JWT signing key
OTSKP_IMPORT_TOKEN=...            # Import authorization

# Concrete-Agent
CONCRETE_AGENT_URL=http://...     # URL Concrete-Agent
CLAUDE_API_KEY=...                # LLM key
```

---

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** November 13, 2025
**ะกัะฐััั:** Design phase (ะณะพัะพะฒ ะบ ัะตะฐะปะธะทะฐัะธะธ Phase 1)
