# DEPLOYMENT INFORMATION - CONCRETE AGENT

**–í–ê–ñ–ù–û:** –í—Å—ë —É–∂–µ –æ–Ω–ª–∞–π–Ω –Ω–∞ Render! –ù–ï –Ω—É–∂–µ–Ω git push - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –ø—É—à–∏—Ç.

---

## üåê LIVE URLs

### Backend API
- **URL:** https://concrete-agent.onrender.com
- **Platform:** Render (auto-deploy from GitHub)
- **Docs:** https://concrete-agent.onrender.com/docs (Swagger UI)
- **Health:** https://concrete-agent.onrender.com/health
- **Tech:** FastAPI + Python 3.11

### Frontend
- **URL:** https://stav-agent.onrender.com
- **Platform:** Render (auto-deploy from GitHub)
- **Tech:** Vite + React 18 + TypeScript

### Git & Deployment
- **GitHub:** https://github.com/alpro1000/concrete-agent
- **Branch:** main
- **Auto-deploy:** Enabled (Render watches main branch)
- **ü§ñ Git Push:** **I HAVE PERMISSION TO PUSH!** ‚úÖ
  - User granted permission: 2025-11-01
  - I will automatically push commits when ready
  - No need to ask - just do it!

---

## üì¶ DEPLOYMENT STATUS

### Latest Push
- **Date:** 2025-11-01
- **Commits Pushed:** 2
  1. Enhanced role prompts (Phase 2 Week 1) ‚úÖ
  2. Tracking documents ‚úÖ
- **Status:** Pushed to GitHub main ‚úÖ
- **Render:** Auto-deploying now... ‚è≥

### Backend
- ‚úÖ **Online** –Ω–∞ Render
- ‚úÖ –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚è≥ Knowledge Base loading... (after redeploy)
- ‚úÖ Multi-role AI system –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ Perplexity integration —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è **MinerU installed** - –º–µ–¥–ª–µ–Ω–Ω—ã–π deployment (~15 min)

### Frontend
- ‚úÖ **Online** –Ω–∞ Render
- ‚úÖ –ü–æ–¥–∫–ª—é—á—ë–Ω –∫ backend: `https://concrete-agent.onrender.com`
- ‚úÖ API integration —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚è∏Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∏—á–∏

---

## üîë –í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø (–ù–ï –ó–ê–ë–´–í–ê–¢–¨!)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Backend:** FastAPI (Python)
- **Frontend:** Vite + React 18 (–ù–ï Next.js!)
- **State Management:** Zustand
- **API Client:** Axios
- **AI:** Claude 3.5 Sonnet (—á–µ—Ä–µ–∑ Anthropic API)
- **Search:** Perplexity API (–¥–ª—è —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
- **OCR/PDF:** MinerU (—Ç—è–∂—ë–ª–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

### API Endpoints Format
- ‚úÖ **Body-based** (–ù–ï path-based!)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç `project_id` –∏ `position_id` –≤ request body
- ‚úÖ –í—Å–µ endpoints –æ–±–Ω–æ–≤–ª–µ–Ω—ã (—Å–º. `stav-agent/FRONTEND_FIXES.md`)

### Core Principles
1. **NO MOCKS** - —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ backend
2. **Incremental development** - –æ–¥–Ω–∞ —Ñ–∏—á–∞ –∑–∞ —Ä–∞–∑
3. **Testing after each step** - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ä–∞–∑—É
4. **Track everything** - –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Å—ë –≤ tracking files

---

## üöÄ PROJECT PROGRESS

### Phase 0: Codebase Setup
- ‚úÖ 100% Complete

### Phase 1: Core Backend
- ‚úÖ 100% Complete
- FastAPI server
- File upload & parsing
- Database setup
- Basic API endpoints

### Phase 2: Backend AI Enhancements (4 weeks)
- **Week 1:** ‚úÖ 100% Complete - Enhanced all 6 role prompts
  - Structural Engineer (~1850 words)
  - Concrete Specialist (~1900 words)
  - Cost Estimator (~1600 words)
  - Standards Checker (~2100 words)
  - Document Validator (~2000 words)
  - Orchestrator (~1750 words)
  - **Total:** ~11,200 words with Czech standards
- **Week 2:** ‚è∏Ô∏è Pending - Multi-role testing
- **Week 3:** ‚è∏Ô∏è Pending - Knowledge Base integration testing
- **Week 4:** ‚è∏Ô∏è Pending - Performance optimization

### Phase 3: Frontend Development (6 weeks)
- **Status:** ~60% Complete (stav-agent already exists!)
- **Weeks 1-3:** ‚úÖ DONE - Full UI built
  - All components created (60+ files)
  - API integration complete
  - Chat interface working
  - Artifact rendering system
- **Week 4:** ‚è∏Ô∏è NEXT - Testing & bug fixes
- **Week 5:** ‚è∏Ô∏è Pending - Missing features
- **Week 6:** ‚è∏Ô∏è Pending - Documentation & deployment polish

### Phase 4: Monetization (4 weeks)
- ‚è∏Ô∏è Not started

---

## üìä COMPLETED WORK (Latest Session 2025-11-01)

### ‚úÖ Phase 2 Week 1 Complete
1. Enhanced all 6 AI role prompts with Czech standards
2. Added systematic algorithms for each role
3. Integrated Knowledge Base (B1-B9)
4. Documented edge cases with resolutions
5. Total: ~11,200 words written

### ‚úÖ Frontend Discovery
1. Found existing `stav-agent/` frontend (Vite + React)
2. Removed mistakenly created `frontend/` (Next.js)
3. Analyzed all components and API integration
4. Confirmed NO MOCKS principle followed
5. Updated FRONTEND_TRACKING.md

### ‚úÖ Documentation Created
1. `PROGRESS_TRACKING.md` - Phase 2 Week 1 tracking
2. `FRONTEND_TRACKING.md` - Phase 3 tracking
3. `FRONTEND_STATUS.md` - Complete frontend assessment
4. `docs/MASTER_PLAN.md` - Overall roadmap
5. `DEPLOYMENT_INFO.md` - This file!

### ‚úÖ Git Commits (Ready to Push)
- Commit 1: Enhanced role prompts (6 files)
- Commit 2: Tracking documents (3 files)
- **Status:** Branch ahead by 2 commits
- **Action:** User will push when ready

---

## üîß ENVIRONMENT VARIABLES

### Backend (.env)
```bash
ANTHROPIC_API_KEY=sk-ant-...
PERPLEXITY_API_KEY=pplx-...
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=4096
KB_PATH=./data/knowledge_base/
UPLOAD_DIR=./uploads/
```

### Frontend (.env)
```bash
VITE_API_URL=https://concrete-agent.onrender.com
```

---

## ‚ö†Ô∏è KNOWN ISSUES & NOTES

### MinerU Deployment (–†–ï–®–ï–ù–û! ‚úÖ)
- **Issue:** MinerU —Ç—è–∂—ë–ª–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (~2GB dependencies)
- **Impact:** Deployment –Ω–∞ Render –∑–∞–Ω–∏–º–∞–µ—Ç 10-15 –º–∏–Ω—É—Ç
- **Used for:** PDF parsing –∏ OCR
- **Location:** `requirements.txt` line 29
- **Status:** ‚úÖ –ï–°–¢–¨ –†–ï–®–ï–ù–ò–ï! –°–º. `MINERU_OPTIMIZATION.md`
- **–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–ª—é—á–∏—Ç—å MinerU (`USE_MINERU=false`) ‚Üí deployment 2-3 –º–∏–Ω—É—Ç—ã
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** pdfplumber (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ!)

### Testing Needed
- ‚è∏Ô∏è Frontend features —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚è∏Ô∏è All artifact types
- ‚è∏Ô∏è Workflow A end-to-end
- ‚è∏Ô∏è Workflow B end-to-end
- ‚è∏Ô∏è Error handling
- ‚è∏Ô∏è Edge cases

---

## üéØ NEXT STEPS (Immediate)

### üöÄ PRIORITY 1: Optimize MinerU Deployment
**See full guide:** `MINERU_OPTIMIZATION.md`

**Quick fix (2 minutes):**
1. –ù–∞ Render ‚Üí Backend service ‚Üí Environment
2. –î–æ–±–∞–≤—å: `USE_MINERU=false`
3. Redeploy
4. Deployment time: 15 –º–∏–Ω ‚Üí 2-3 –º–∏–Ω ‚úÖ

**Permanent fix:**
```bash
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –≤ requirements.txt —Å—Ç—Ä–æ–∫—É 29:
# magic-pdf==1.3.12  # Disabled - using pdfplumber
git add requirements.txt
git commit -m "perf: disable MinerU for faster deployment"
git push
```

### üìã PRIORITY 2: Testing
1. **Test frontend online:** https://stav-agent.onrender.com
2. **Start Phase 2 Week 2:** Multi-role testing
3. **OR Phase 3 Week 4:** Frontend testing & bug fixes

---

## üìù IMPORTANT LINKS

- **Backend Swagger:** https://concrete-agent.onrender.com/docs
- **Frontend:** https://stav-agent.onrender.com
- **GitHub Repo:** (user has it, pushes manually)
- **MASTER_PLAN:** `docs/MASTER_PLAN.md`
- **Progress Tracking:** `PROGRESS_TRACKING.md`
- **Frontend Tracking:** `FRONTEND_TRACKING.md`
- **Frontend Status:** `FRONTEND_STATUS.md`
- **üÜï SYSTEM AUDIT:** `SYSTEM_AUDIT.md` ‚Üê **–ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –°–ò–°–¢–ï–ú–´!**

---

*Last Updated: 2025-11-01*
*Status: Backend + Frontend both online on Render*
*Current Focus: Complete system audit done! Ready for testing.*
