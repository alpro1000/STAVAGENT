# üèóÔ∏è CLAUDE.MD ‚Äî AI Context Document

**–í–ê–ñ–ù–û: –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞—â–∞–π—Å—è –∫ –Ω–µ–º—É –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞—á!**

---

## üìå –û –ü–†–û–ï–ö–¢–ï

**–ù–∞–∑–≤–∞–Ω–∏–µ:** Monolit Planner
**–¶–µ–ª—å:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ—Ç–æ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –º–æ—Å—Ç–æ–≤ –≤ –ß–µ—Ö–∏–∏

**–ó–∞–∫–∞–∑—á–∏–∫:** –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è (–ß–µ—Ö–∏—è)
**–ö–ª—é—á–µ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏–≤–µ—Å—Ç–∏ –í–°–ï –∑–∞—Ç—Ä–∞—Ç—ã –∫ –µ–¥–∏–Ω–æ–π –º–µ—Ç—Ä–∏–∫–µ **CZK/–º¬≥ –±–µ—Ç–æ–Ω–∞** (–¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω–∞—è –ï–ò ‚Äî –º¬≤, –∫–≥, ks)

---

## üéØ –ì–õ–ê–í–ù–ê–Ø –ò–î–ï–Ø

### –ü—Ä–æ–±–ª–µ–º–∞
–í —Ç–µ–∫—É—â–∏—Ö —Å–º–µ—Ç–∞—Ö –º–æ—Å—Ç—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è:
- –ë–µ—Ç–æ–Ω ‚Üí –º¬≥
- –û–ø–∞–ª—É–±–∫–∞ ‚Üí –º¬≤
- –ê—Ä–º–∞—Ç—É—Ä–∞ ‚Üí –∫–≥
- –ü—Ä–æ—á–∏–µ —Ä–∞–±–æ—Ç—ã ‚Üí ks, t, –º...

**–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å** —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç!

### –†–µ—à–µ–Ω–∏–µ
‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞: `unit_cost_on_m3` (CZK/–º¬≥ –±–µ—Ç–æ–Ω–∞)**

–í—Å–µ –∑–∞—Ç—Ä–∞—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ 1 –º¬≥ –±–µ—Ç–æ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞:
- –ë–µ—Ç–æ–Ω (43.8 –º¬≥) ‚Üí 729 CZK/–º¬≥
- –û–ø–∞–ª—É–±–∫–∞ (63.6 –º¬≤) ‚Üí 1079 CZK/–º¬≥ (—Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–ø–∞–ª—É–±–∫–∏, —Ä–∞–∑–Ω–µ—Å—ë–Ω–Ω–∞—è –Ω–∞ –æ–±—ä—ë–º –±–µ—Ç–æ–Ω–∞)
- –ê—Ä–º–∞—Ç—É—Ä–∞ (2100 –∫–≥) ‚Üí 456 CZK/–º¬≥ (—Å—Ç–æ–∏–º–æ—Å—Ç—å –∞—Ä–º–∞—Ç—É—Ä—ã, —Ä–∞–∑–Ω–µ—Å—ë–Ω–Ω–∞—è –Ω–∞ –æ–±—ä—ë–º –±–µ—Ç–æ–Ω–∞)

**–ò—Ç–æ–≥–æ:** –ú–æ–∂–Ω–æ —á–µ—Å—Ç–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ä–∞–±–æ—Ç!

---

## üìê –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–û–†–ú–£–õ–´

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä—ë–º–∞ –±–µ—Ç–æ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞

```javascript
FOR subtype = "beton":
  concrete_m3 = qty  // qty —É–∂–µ –≤ –º¬≥

FOR other subtypes (bednƒõn√≠, v√Ωztu≈æ, jin√©):
  concrete_m3 = qty_beton_of_same_part
  // –ë–µ—Ä—ë–º –æ–±—ä—ë–º –±–µ—Ç–æ–Ω–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏ subtype="beton" —Ç–æ–π –∂–µ part_name

  ‚ö†Ô∏è –ï–°–õ–ò –ù–ï –ù–ê–ô–î–ï–ù–û ‚Üí RFI + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
```

### 2. ‚≠ê –ì–õ–ê–í–ù–ê–Ø –§–û–†–ú–£–õ–ê: –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –º¬≥

```javascript
unit_cost_on_m3 = cost_czk / concrete_m3

// –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞!
// –û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –¥–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –ø–µ—Ä–µ—Å—á—ë—Ç–µ –Ω–∞ 1 –º¬≥ –±–µ—Ç–æ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
```

### 3. KROS-–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ (–≤–≤–µ—Ä—Ö, —à–∞–≥–æ–º 50 CZK)

```javascript
kros_unit_czk = Math.ceil(unit_cost_on_m3 / 50) * 50

// –ü—Ä–∏–º–µ—Ä—ã:
// 729.45 ‚Üí 750
// 1079.12 ‚Üí 1100
// 800.00 ‚Üí 800
```

### 4. ‚≠ê –ù–û–í–û–ï: –†–∞—Å—á—ë—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –í–∑–≤–µ—à–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ (–ø–æ –æ–±—ä—ë–º—É –±–µ—Ç–æ–Ω–∞):
avg_crew_size = Œ£(crew_size √ó concrete_m3) / Œ£(concrete_m3)
avg_wage_czk_ph = Œ£(wage_czk_ph √ó concrete_m3) / Œ£(concrete_m3)
avg_shift_hours = Œ£(shift_hours √ó concrete_m3) / Œ£(concrete_m3)

// –ú–µ—Å—è—Ü—ã:
estimated_months = sum_kros_total_czk /
                   (avg_crew_size √ó avg_wage_czk_ph √ó avg_shift_hours √ó days_per_month)

// –ù–µ–¥–µ–ª–∏:
estimated_weeks = estimated_months √ó days_per_month / 7

// days_per_month = 30 (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞) –∏–ª–∏ 22 (—Ä–∞–±–æ—á–∏–µ –¥–Ω–∏)
```

### 5. –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ KPI

```javascript
sum_concrete_m3 = Œ£(concrete_m3 –¥–ª—è subtype="beton")
sum_kros_total_czk = Œ£(kros_total_czk –¥–ª—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π)

project_unit_cost_czk_per_m3 = sum_kros_total_czk / sum_concrete_m3
project_unit_cost_czk_per_t = project_unit_cost_czk_per_m3 / 2.4  // œÅ=2.4 t/m¬≥
```

---

## üóÇÔ∏è –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•

### Position (–ü–æ–∑–∏—Ü–∏—è)

```typescript
{
  // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–û–†–ê–ù–ñ–ï–í–´–ï –ø–æ–ª—è ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ):
  bridge_id: string          // SO201, SO202...
  part_name: string          // Z√ÅKLADY, ≈ò√çMSY, OPƒöRY...
  item_name: string          // –ù–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (v4.3: –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ PartHeader)
  subtype: Subtype          // beton | bednƒõn√≠ | v√Ωztu≈æ | ...
  unit: string              // M3, m2, kg, ks...
  qty: number               // ‚≠ê v4.3: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–¢–û–õ–¨–ö–û –¥–ª—è beton —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤ PartHeader, –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö ‚Äî –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
  qty_m3_helper?: number    // –°–ø—Ä–∞–≤–æ—á–Ω–æ (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏)

  crew_size: number         // –õ—é–¥–µ–π –≤ –±—Ä–∏–≥–∞–¥–µ (default: 4)
  wage_czk_ph: number       // CZK/—á–∞—Å (default: 398)
  shift_hours: number       // –ß–∞—Å–æ–≤/–¥–µ–Ω—å (default: 10)
  days: number              // –î–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (default: 0)

  // –†–∞—Å—á—ë—Ç–Ω—ã–µ –ø–æ–ª—è (–°–ï–†–´–ï ‚Äî readonly):
  labor_hours: number       // = crew_size √ó shift_hours √ó days
  cost_czk: number          // = labor_hours √ó wage_czk_ph
  unit_cost_native: number  // = cost_czk / qty (—Å–ø—Ä–∞–≤–æ—á–Ω–æ)

  concrete_m3: number       // ‚ö†Ô∏è –ö–õ–Æ–ß–ï–í–û–ï: –æ–±—ä—ë–º –±–µ—Ç–æ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
  unit_cost_on_m3: number   // ‚≠ê –ì–õ–ê–í–ù–ê–Ø –ú–ï–¢–†–ò–ö–ê: CZK/–º¬≥ –±–µ—Ç–æ–Ω–∞

  // KROS (–ó–ï–õ–Å–ù–´–ï —è—á–µ–π–∫–∏):
  kros_unit_czk: number     // –û–∫—Ä—É–≥–ª—ë–Ω–Ω–∞—è –µ–¥–∏–Ω–∏—á–Ω–∞—è —Ü–µ–Ω–∞
  kros_total_czk: number    // –ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

  // RFI:
  has_rfi?: boolean
  rfi_message?: string
}
```

### HeaderKPI (–®–∞–ø–∫–∞)

```typescript
{
  // –í—Ö–æ–¥–Ω—ã–µ (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥):
  span_length_m?: number
  deck_width_m?: number
  pd_weeks?: number
  days_per_month_mode: 30 | 22  // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å!

  // –†–∞—Å—á—ë—Ç–Ω—ã–µ —Å—É–º–º—ã:
  sum_concrete_m3: number
  sum_kros_total_czk: number

  // –ï–¥–∏–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã:
  project_unit_cost_czk_per_m3: number
  project_unit_cost_czk_per_t: number

  // ‚≠ê –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
  estimated_months: number
  estimated_weeks: number

  // –í–∑–≤–µ—à–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ:
  avg_crew_size: number
  avg_wage_czk_ph: number
  avg_shift_hours: number
  days_per_month: number

  // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
  rho_t_per_m3: number  // = 2.4
}
```

---

## üîÑ –ü–û–¢–û–ö –î–ê–ù–ù–´–• –ë–ï–¢–û–ù–ê (v4.3 - Centralize Concrete Volume)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ë–´–õ–û vs –°–¢–ê–õ–û)

**–ë–´–õ–û (v4.2 –∏ —Ä–∞–Ω—å—à–µ):**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ:
  - –°—Ç—Ä–æ–∫–∞ 'beton', –∫–æ–ª–æ–Ω–∫–∞ "MNO≈ΩSTV√ç" = qty = 43.8
         ‚Üì
PartHeader –≤—ã—á–∏—Å–ª—è–µ—Ç (readonly):
  - –°—É–º–º–∞ –≤—Å–µ—Ö beton qty = "Mno≈æstv√≠ betonu celkem: 43.8"
         ‚Üì
–î—Ä—É–≥–∏–µ —Å—Ç—Ä–æ–∫–∏ (bednƒõn√≠, v√Ωztu≈æ):
  - concrete_m3 = findConcreteVolumeForPart() = 43.8

–ü–†–û–ë–õ–ï–ú–´: –ü—É—Ç–∞–Ω–∏—Ü–∞ –≥–¥–µ –≤–≤–æ–¥–∏—Ç—å, –¥–≤–∞ –º–µ—Å—Ç–∞ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–µ—Ç–æ–Ω–µ
```

**–°–¢–ê–õ–û (v4.3):**
```
PartHeader (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤–≤–æ–¥–∞):
  - –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ: "Mno≈æstv√≠ betonu celkem: [INPUT 43.8]" üü†
         ‚Üì
handleBetonQuantityUpdate() ‚Üí updatePositions()
         ‚Üì
–°—Ç—Ä–æ–∫–∞ 'beton' –≤ —Ç–∞–±–ª–∏—Ü–µ:
  - qty = 43.8 (READONLY, —Å–µ—Ä–æ–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ) üîí
         ‚Üì
–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (bednƒõn√≠, v√Ωztu≈æ):
  - concrete_m3 = 43.8 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ beton)
         ‚Üì
–í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ (v4.3)

#### PartHeader.tsx
```typescript
// –ù–û–í–û–ï: –¥–≤–∞ –∫–æ–ª–±—ç–∫–∞ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ
interface Props {
  betonQuantity: number;
  onItemNameUpdate: (itemName: string) => void;        // ‚Üê NEW
  onBetonQuantityUpdate: (quantity: number) => void;   // ‚Üê NEW
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–µ
<input
  type="number"
  className="concrete-input"  // üü† –û—Ä–∞–Ω–∂–µ–≤–æ–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ
  value={editedBeton}
  onBlur={handleBetonBlur}    // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
/>
```

#### PositionsTable.tsx
```typescript
// –ù–û–í–û–ï: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–µ—Ç–æ–Ω–∞
handleBetonQuantityUpdate = (partName: string, newQuantity: number) => {
  // 1. –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —ç—Ç–æ–π —á–∞—Å—Ç–∏ —Å subtype='beton'
  const betonPositions = positions.filter(
    p => p.part_name === partName && p.subtype === 'beton'
  );

  // 2. –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ö qty –Ω–∞ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  const updates = betonPositions.map(pos => ({
    ...pos,
    qty: newQuantity  // ‚Üê –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –º–µ–Ω—è–µ—Ç—Å—è qty!
  }));

  // 3. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ backend —á–µ—Ä–µ–∑ React Query
  updatePositions(updates);
};
```

#### PositionRow.tsx
```typescript
// –ù–û–í–û–ï: read-only –¥–ª—è beton
<input
  type="number"
  disabled={isLocked || position.subtype === 'beton'}  // ‚Üê –ë–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!
  className="readonly-style"                             // üîí –°–µ—Ä–æ–µ
  title="Objem betonu - upravte v z√°hlav√≠ v√Ω≈°e"        // –ü–æ–¥—Å–∫–∞–∑–∫–∞
/>
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –æ–±—ä—ë–º –±–µ—Ç–æ–Ω–∞
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: "Z√ÅKLADY"
2. –í–∏–¥–∏—Ç PartHeader —Å –ø–æ–ª–µ–º "Mno≈æstv√≠ betonu celkem: [0.00]"
3. –í–≤–æ–¥–∏—Ç: 43.8
4. –ù–∞–∂–∏–º–∞–µ—Ç Tab –∏–ª–∏ –∫–ª–∏–∫–∞–µ—Ç –≤–Ω–µ –ø–æ–ª—è (onBlur)
5. handleBetonBlur() ‚Üí onBetonQuantityUpdate(43.8) ‚Üí handleBetonQuantityUpdate()
6. updatePositions([{id: ..., qty: 43.8}]) ‚Üí backend
7. Backend –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç: concrete_m3 = 43.8, unit_cost_on_m3 = ... (–¥–ª—è –≤—Å–µ–π —á–∞—Å—Ç–∏)
8. React Query –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à
9. usePositions() –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
10. –¢–∞–±–ª–∏—Ü–∞ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è:
    - –°—Ç—Ä–æ–∫–∞ 'beton': qty = 43.8 (—Å–µ—Ä—ã–π, readonly)
    - –°—Ç—Ä–æ–∫–∞ 'bednƒõn√≠': concrete_m3 = 43.8 (–≤—ã—á–∏—Å–ª–µ–Ω–æ)
    - KPI: sum_concrete_m3 –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Excel –∏–º–ø–æ—Ä—Ç (–±—É–¥—É—â–µ–µ)
```
Excel —Å–æ–¥–µ—Ä–∂–∏—Ç: "ƒå√ÅST KONSTRUKCE" + "OBJEM BETONU"
           ‚Üì
Parser —á–∏—Ç–∞–µ—Ç –∏ —Å–æ–∑–¥–∞—ë—Ç positions
           ‚Üì
PartHeader –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –±–µ—Ç–æ–Ω–æ–º –∏–∑ Excel
           ‚Üì
–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

### CSS —Å—Ç–∏–ª–∏ (v4.3)

```css
/* –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ –±–µ—Ç–æ–Ω–∞ –≤ PartHeader */
.concrete-input {
  background: var(--input-bg);      /* üü† #FFA726 –æ—Ä–∞–Ω–∂–µ–≤—ã–π */
  border: 2px solid #FF9800;        /* –û—Ä–∞–Ω–∂–µ–≤—ã–π –±–æ—Ä–¥–µ—Ä */
  padding: 6px 8px;
  width: 100px;                     /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
  text-align: right;                /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª */
  font-family: monospace;           /* –ú–æ–Ω–æ-—à—Ä–∏—Ñ—Ç –¥–ª—è —á–∏—Å–µ–ª */
}

/* Read-only –ø–æ–ª–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –¥–ª—è beton */
.input-cell.readonly-style input {
  background: var(--bg-tertiary);   /* üîí #E8E8E8 —Å–µ—Ä—ã–π */
  border-color: var(--border-light);
  color: var(--text-secondary);
  cursor: not-allowed;              /* –ó–∞–ø—Ä–µ—Ç–Ω—ã–π –∫—É—Ä—Å–æ—Ä */
}
```

---

## üé® –î–ò–ó–ê–ô–ù (–í–ê–ñ–ù–û!)

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

```css
/* –ë–µ—Ç–æ–Ω–Ω–∞—è –æ—Å–Ω–æ–≤–∞ */
--light-concrete: #F5F5F5    /* –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
--medium-concrete: #E8E8E8   /* –ö–∞—Ä—Ç–æ—á–∫–∏, —Å–µ–∫—Ü–∏–∏ */
--divider-border: #D0D0D0    /* –õ–∏–Ω–∏–∏ */

/* –ê–∫—Ü–µ–Ω—Ç—ã */
--primary-action: #1E5A96    /* –°–∏–Ω–∏–π (–∫–Ω–æ–ø–∫–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∏) */
--secondary: #F39C12          /* –û—Ä–∞–Ω–∂–µ–≤—ã–π (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è) */
--success: #27AE60            /* –ó–µ–ª—ë–Ω—ã–π (KROS) */
--error: #E74C3C              /* –ö—Ä–∞—Å–Ω—ã–π (RFI) */

/* ‚≠ê INPUT CELLS ‚Äî –ê–ü–ï–õ–¨–°–ò–ù–û–í–´–ï! */
--input-bg: #FFA726           /* –§–æ–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π */
--input-border: #FF9800       /* –ë–æ—Ä–¥–µ—Ä */
--input-focus: #FF7043        /* –§–æ–∫—É—Å (2px ring) */

/* –¢–∞–±–ª–∏—Ü–∞ */
--computed-cells: #F0F0F0     /* –°–µ—Ä—ã–µ readonly */
--kros-success-bg: #F0FFF4    /* –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω KROS */
--rfi-warning: #FEE8E8        /* –ö—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω RFI */
```

### –ü—Ä–∞–≤–∏–ª–∞ UI

1. **–í—Å–µ input-–ø–æ–ª—è (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ):**
   - –§–æ–Ω `#FFA726` (–∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π)
   - –ë–æ—Ä–¥–µ—Ä `#FF9800`
   - –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ: ring `#FF7043` (2px)

2. **Readonly –ø–æ–ª—è (—Ä–∞—Å—á—ë—Ç–Ω—ã–µ):**
   - –§–æ–Ω `#F0F0F0` (—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π)
   - –®—Ä–∏—Ñ—Ç bold, tabular-nums
   - –ö—É—Ä—Å–æ—Ä: default

3. **KROS-—è—á–µ–π–∫–∏:**
   - –§–æ–Ω `#F0FFF4` (—Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–π)
   - –¢–µ–∫—Å—Ç `#27AE60` (–∑–µ–ª—ë–Ω—ã–π)
   - Font-weight: 600

4. **RFI-—Å—Ç—Ä–æ–∫–∏:**
   - –§–æ–Ω –≤—Å–µ–π —Å—Ç—Ä–æ–∫–∏: `#FEE8E8`
   - Badge: –∫—Ä–∞—Å–Ω—ã–π —Å –±–µ–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º

---

## üèõÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```
monolit-planner/
‚îú‚îÄ‚îÄ backend/          ‚Üê Node.js + Express + SQLite
‚îú‚îÄ‚îÄ frontend/         ‚Üê React + TypeScript + Vite
‚îú‚îÄ‚îÄ shared/           ‚Üê –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —Ñ–æ—Ä–º—É–ª—ã
‚îú‚îÄ‚îÄ render.yaml       ‚Üê –ö–æ–Ω—Ñ–∏–≥ –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ DEPLOY.md         ‚Üê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ CLAUDE.MD         ‚Üê ‚≠ê –≠–¢–û–¢ –§–ê–ô–õ (–¥–ª—è AI)
‚îî‚îÄ‚îÄ README.md         ‚Üê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### Backend Stack

- **Node.js 18+** + Express.js
- **SQLite** (better-sqlite3) ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ë–î
- **XLSX** (xlsx) ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ Excel
- **Multer** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **API:** REST (JSON)

**–í–∞–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- `calculator.js` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º—É–ª—ã –∏–∑ shared
- `parser.js` ‚Äî –ø–∞—Ä—Å–∏—Ç XLSX, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç bridge_id
- `exporter.js` ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç XLSX/CSV –¥–ª—è KROS4

### Frontend Stack

- **React 18** + TypeScript 5
- **Vite 5** ‚Äî —Å–±–æ—Ä—â–∏–∫
- **TanStack React Query** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API
- **Axios** ‚Äî HTTP-–∫–ª–∏–µ–Ω—Ç
- **Context API** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `Header` ‚Äî –≤—ã–±–æ—Ä –º–æ—Å—Ç–∞, –∏–º–ø–æ—Ä—Ç, —ç–∫—Å–ø–æ—Ä—Ç, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–Ω–µ–π
- `Sidebar` ‚Äî —Å–ø–∏—Å–æ–∫ –º–æ—Å—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä—ã
- `KPIPanel` ‚Äî –º–µ—Ç—Ä–∏–∫–∏ (–º–µ—Å—è—Ü—ã, –Ω–µ–¥–µ–ª–∏, CZK/–º¬≥...)
- `PositionsTable` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ part_name
- `PositionRow` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä–æ–∫–∞ (–∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–µ inputs!)

### Shared Package

**–¶–µ–ª—å:** –û–¥–Ω–∞ –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º—É–ª –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞ –∏ –±—ç–∫–∞

```typescript
// types.ts ‚Äî –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
// formulas.ts ‚Äî –≤—Å–µ —Ä–∞—Å—á—ë—Ç—ã (calculatePositionFields, calculateHeaderKPI...)
// constants.ts ‚Äî –¥–µ—Ñ–æ–ª—Ç—ã, —Ü–≤–µ—Ç–∞, feature flags
```

---

## üîÑ WORKFLOW –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

1. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
2. **–ù–∞–∂–∞—Ç—å "Upload XLSX"** ‚Üí –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª —Å –º–æ—Å—Ç–∞–º–∏
3. **Backend –ø–∞—Ä—Å–∏—Ç XLSX:**
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç bridge_id (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "Po≈ô. ƒç√≠slo" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∞)
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º—ç–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º—ç–ø–ø–∏–Ω–≥ ‚Üí –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
4. **–í—ã–±—Ä–∞—Ç—å –º–æ—Å—Ç** –∏–∑ —Å–ø–∏—Å–∫–∞ –≤ Sidebar
5. **Backend —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å—ë:**
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç concrete_m3 –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
   - –í—ã—á–∏—Å–ª—è–µ—Ç unit_cost_on_m3 (‚≠ê –≥–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞)
   - –û–∫—Ä—É–≥–ª—è–µ—Ç KROS
   - –í—ã—á–∏—Å–ª—è–µ—Ç –º–µ—Å—è—Ü—ã/–Ω–µ–¥–µ–ª–∏
6. **Frontend –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:**
   - KPI-–ø–∞–Ω–µ–ª—å —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
   - –¢–∞–±–ª–∏—Ü—É –ø–æ–∑–∏—Ü–∏–π (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ part_name)
   - –ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–µ input-—è—á–µ–π–∫–∏
   - –°–µ—Ä—ã–µ readonly-—è—á–µ–π–∫–∏
7. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç** (qty, crew_size, days...) ‚Üí –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
8. **–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –¥–Ω–µ–π** (30 ‚Üî 22) ‚Üí –ø–µ—Ä–µ—Å—á—ë—Ç –º–µ—Å—è—Ü–µ–≤/–Ω–µ–¥–µ–ª—å
9. **–≠–∫—Å–ø–æ—Ä—Ç XLSX/CSV** ‚Üí –≥–æ—Ç–æ–≤–æ –¥–ª—è KROS4

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê

### 1. Zero Regression
- **–ù–ï –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å** –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ XLSX
- –¢–æ–ª—å–∫–æ **–º—ç–ø–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ UI**

### 2. RFI-—Å–∏—Å—Ç–µ–º–∞ (Request For Information)
- –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç** —Ä–∞—Å—á—ë—Ç—ã (—Ä–∞—Å—á—ë—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å 0 –∏–ª–∏ null)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –≤–≤–µ—Å—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã RFI:**
- ‚ùå "–ù–µ –Ω–∞–π–¥–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ beton –¥–ª—è —á–∞—Å—Ç–∏ '≈ò√çMSY'"
- ‚ö†Ô∏è "–ü—É—Å—Ç–æ: den (koef 1). –†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω (cost_czk=0)"
- ‚ÑπÔ∏è "–ù–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω Po≈ô. ƒç√≠slo ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –º—ç–ø–ø–∏–Ω–≥"

### 3. –§–æ—Ä–º—É–ª—ã –ø—Ä–æ–∑—Ä–∞—á–Ω—ã
- –ö–∞–∂–¥–æ–µ —Ä–∞—Å—á—ë—Ç–Ω–æ–µ –ø–æ–ª–µ ‚Üí tooltip —Å —Ñ–æ—Ä–º—É–ª–æ–π
- –ü—Ä–∏–º–µ—Ä: –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ `kros_unit_czk` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
  ```
  = ceil(unit_cost_on_m3 / 50) √ó 50
  = ceil(729.45 / 50) √ó 50
  = ceil(14.589) √ó 50
  = 15 √ó 50
  = 750 CZK
  ```

### 4. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–Ω–µ–π/–º–µ—Å—è—Ü–∞
- **30 –¥–Ω–µ–π/–º–µ—Å—è—Ü** ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Å—Ç—Ä–æ–π–∫–∞ (7 –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é)
- **22 –¥–Ω—è/–º–µ—Å—è—Ü** ‚Äî —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ (5 –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é + –ø—Ä–∞–∑–¥–Ω–∏–∫–∏)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `project_config.days_per_month_mode`
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ ‚Üí –ø–µ—Ä–µ—Å—á—ë—Ç –º–µ—Å—è—Ü–µ–≤/–Ω–µ–¥–µ–ª—å –¥–ª—è –≤—Å–µ—Ö –º–æ—Å—Ç–æ–≤

---

## üöÄ DEPLOYMENT (Render)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Blueprint! (render.yaml)

**–ù–ï —Å–æ–∑–¥–∞–≤–∞–π –≤—Ä—É—á–Ω—É—é "New Web Service"!**

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

1. **Push –∫–æ–¥ –Ω–∞ GitHub** ‚úÖ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)

2. **–í Render Dashboard:**
   - –ù–∞–∂–∞—Ç—å **"New" ‚Üí "Blueprint"**
   - –í—ã–±—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `alpro1000/Monolit-Planner`
   - Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç `render.yaml`
   - –ù–∞–∂–∞—Ç—å **"Create New Resources"**

3. **Render —Å–æ–∑–¥–∞—Å—Ç 2 —Å–µ—Ä–≤–∏—Å–∞:**
   - `monolit-planner-api` (backend)
   - `monolit-planner-frontend` (frontend)

4. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è backend:**
   - Backend –ø–æ–ª—É—á–∏—Ç URL —Ç–∏–ø–∞: `https://monolit-planner-api.onrender.com`
   - ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å frontend!

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ frontend (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!):**
   - –û—Ç–∫—Ä–æ–π Render Dashboard ‚Üí `monolit-planner-frontend` ‚Üí Environment
   - –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_URL` = `https://monolit-planner-api.onrender.com`
   - –ù–∞–∂–º–∏ **"Save Changes"** ‚Üí frontend –ø–µ—Ä–µ—Å–æ–±—Ä—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

6. **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS:**
   - –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend –ø–æ–ª—É—á–∏—Ç URL —Ç–∏–ø–∞: `https://monolit-planner-frontend.onrender.com`
   - –û—Ç–∫—Ä–æ–π backend Environment
   - –ò–∑–º–µ–Ω–∏ `CORS_ORIGIN` —Å `*` –Ω–∞ URL frontend'–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

7. **URLs:**
   - Frontend: `https://monolit-planner-frontend.onrender.com`
   - Backend: `https://monolit-planner-api.onrender.com`

### ‚ö†Ô∏è –ù–ï –¥–µ–ª–∞–π:
- ‚ùå New Web Service –≤—Ä—É—á–Ω—É—é (—Å–ª–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤—è–∑–∏)
- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å build commands –≤—Ä—É—á–Ω—É—é (–≤—Å—ë –≤ render.yaml)

### ‚úÖ –î–µ–ª–∞–π:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π Blueprint (render.yaml)
- ‚úÖ Auto-deploy: push –≤ main ‚Üí –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π

### üìù –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å render.yaml:

**Backend (Web Service):**
```yaml
- type: web
  name: monolit-planner-api
  env: node
  plan: free
  buildCommand: ...
  startCommand: ...
```

**Frontend (Static Site):**
```yaml
- type: web              # ‚ö†Ô∏è –ù–ï "static"!
  name: monolit-planner-frontend
  env: static            # –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ static site
  buildCommand: ...
  staticPublishPath: frontend/dist
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- Render Blueprint –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `type: static`
- –ò—Å–ø–æ–ª—å–∑—É–π `type: web` + `env: static` –¥–ª—è static sites
- –ù–ï –¥–æ–±–∞–≤–ª—è–π `region` ‚Äî –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è free tier
- **Node.js –≤–µ—Ä—Å–∏—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê**: better-sqlite3 —Ç—Ä–µ–±—É–µ—Ç Node 18.x
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω .nvmrc ‚Üí 18.20.4
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω NODE_VERSION –≤ render.yaml
  - ‚ùå Node 25.x –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (–æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ C++)

### üîç –ü–æ—á–µ–º—É CORS_ORIGIN="*" –∏ VITE_API_URL=sync:false - –ù–ï –∫–æ—Å—Ç—ã–ª–∏?

**–ü—Ä–æ–±–ª–µ–º–∞ fromService (circular dependency):**

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ —á–µ—Ä–µ–∑ Blueprint —Å fromService –≤–æ–∑–Ω–∏–∫–∞–µ—Ç deadlock:
```yaml
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–æ–∑–¥–∞—ë—Ç deadlock:
backend:
  envVars:
    - key: CORS_ORIGIN
      fromService:
        name: frontend  # Backend –∂–¥—ë—Ç URL frontend

frontend:
  envVars:
    - key: VITE_API_URL
      fromService:
        name: backend   # Frontend –∂–¥—ë—Ç URL backend
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Backend –∂–¥—ë—Ç frontend ‚Üí Frontend –∂–¥—ë—Ç backend ‚Üí **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª!**

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û–ï —Ä–µ—à–µ–Ω–∏–µ:**

1. **CORS_ORIGIN = "\*"**:
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è development
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ª—é–±–æ–≥–æ origin –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ
   - –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–º–µ–Ω
   - –í production: —É—Å—Ç–∞–Ω–æ–≤–∏ `CORS_ORIGIN=https://monolit-planner-frontend.onrender.com`

2. **VITE_API_URL = sync:false**:
   - –ì–æ–≤–æ—Ä–∏—Ç Render –ù–ï –∂–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –≤ Dashboard –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è backend
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º API

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∏ –ø–æ—á–µ–º—É –æ–Ω–∏ —Ö—É–∂–µ:**

- ‚ùå **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å**: —Ç–µ—Ä—è–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ùå **Reverse proxy –Ω–∞ frontend**: —É—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –Ω—É–∂–µ–Ω nginx/express
- ‚ùå **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ URL (/api)**: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö

**–ò—Ç–æ–≥:** –≠—Ç–æ –ù–ï –∫–æ—Å—Ç—ã–ª–∏, –∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤!

### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ shared –ø–∞–∫–µ—Ç–∞

**ensure-shared-build.js** (–≤ backend/scripts –∏ frontend/scripts):

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ TypeScript –≤ shared/
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –°–æ–±–∏—Ä–∞–µ—Ç shared –ø–∞–∫–µ—Ç, –µ—Å–ª–∏ dist/ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä–∫—É, –µ—Å–ª–∏ dist/ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ –Ω—É–∂–Ω–æ —è–≤–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å shared –≤ render.yaml buildCommand
- prestart/prebuild —Ö—É–∫–∏ –¥–µ–ª–∞—é—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –£—Å–∫–æ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞)

---

## üìù FEATURE FLAGS

–í—Å–µ –≤ `shared/src/constants.ts`:

```typescript
FEATURE_FLAGS = {
  FF_AI_DAYS_SUGGEST: false,    // AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –¥–Ω–µ–π
  FF_PUMP_MODULE: false,         // –ú–æ–¥—É–ª—å –±–µ—Ç–æ–Ω–æ–Ω–∞—Å–æ—Å–∞
  FF_ADVANCED_METRICS: false,    // –ê–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏
  FF_DARK_MODE: false,           // –¢—ë–º–Ω–∞—è —Ç–µ–º–∞
  FF_SPEED_ANALYSIS: false       // –°–∫–æ—Ä–æ—Å—Ç—å –º¬≤/–¥–µ–Ω—å
}
```

**–ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å:**
```http
POST /api/config
{
  "feature_flags": {
    "FF_DARK_MODE": true
  }
}
```

---

## üéØ ROADMAP (–ë—É–¥—É—â–µ–µ)

- [ ] AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –¥–Ω–µ–π (ML-–º–æ–¥–µ–ª—å)
- [ ] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–µ—Ç–æ–Ω–æ–Ω–∞—Å–æ—Å–∞
- [ ] –ê–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏ (–º¬≤/–¥–µ–Ω—å –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º)
- [ ] Multilang (EN, DE)
- [ ] PDF-–æ—Ç—á—ë—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–µ–π
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)

---

## üìå –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø AI

### –ö–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—à—å —Ä–∞–±–æ—Ç—É:

1. **–í–°–ï–ì–î–ê —á–∏—Ç–∞–π CLAUDE.MD** –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞—á
2. –ü—Ä–æ–≤–µ—Ä—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º—É–ª –≤ `shared/src/formulas.ts`
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥–∏–∑–∞–π–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä–µ

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:

1. **–û–±–Ω–æ–≤–∏ CLAUDE.MD** —Å –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
2. –î–æ–±–∞–≤—å —Ñ–æ—Ä–º—É–ª—ã –≤ —Ä–∞–∑–¥–µ–ª "–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–û–†–ú–£–õ–´"
3. –û–±–Ω–æ–≤–∏ ROADMAP
4. –î–æ–±–∞–≤—å feature flag, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º—É–ª:

1. **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û:** –û–±–Ω–æ–≤–∏ `shared/src/formulas.ts`
2. –û–±–Ω–æ–≤–∏ `backend/src/services/calculator.js` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç shared)
3. –û–±–Ω–æ–≤–∏ CLAUDE.MD —Å –Ω–æ–≤–æ–π —Ñ–æ—Ä–º—É–ª–æ–π
4. –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∏–∑–∞–π–Ω–∞:

1. –û–±–Ω–æ–≤–∏ `frontend/src/styles/global.css`
2. –ü—Ä–æ–≤–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ü–≤–µ—Ç–∞–º –≤ CLAUDE.MD
3. –û–±–Ω–æ–≤–∏ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ API endpoints:

1. –î–æ–±–∞–≤—å –≤ `backend/src/routes/`
2. –û–±–Ω–æ–≤–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ README.md
3. –î–æ–±–∞–≤—å –≤ API-–∫–ª–∏–µ–Ω—Ç `frontend/src/services/api.ts`
4. –û–±–Ω–æ–≤–∏ —Ç–∏–ø—ã –≤ `shared/src/types.ts`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üîç DEBUGGING CHECKLIST

### –ï—Å–ª–∏ —Ä–∞—Å—á—ë—Ç—ã –Ω–µ–≤–µ—Ä–Ω—ã–µ:

1. –ü—Ä–æ–≤–µ—Ä—å `concrete_m3` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω?
2. –ü—Ä–æ–≤–µ—Ä—å `unit_cost_on_m3` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ concrete_m3 –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞?
3. –ü—Ä–æ–≤–µ—Ä—å KROS-–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ ‚Äî `Math.ceil`, –Ω–µ `Math.round`!
4. –ü—Ä–æ–≤–µ—Ä—å weighted averages ‚Äî –≤–∑–≤–µ—à–µ–Ω—ã –ª–∏ –ø–æ concrete_m3?

### –ï—Å–ª–∏ UI –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å React Query cache
2. –ü—Ä–æ–≤–µ—Ä—å Context API ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ?
3. –ü—Ä–æ–≤–µ—Ä—å `usePositions` hook ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ invalidation?

### –ï—Å–ª–∏ –∏–º–ø–æ—Ä—Ç XLSX –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä—Å–µ—Ä ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç –ª–∏ bridge_id?
2. –ü—Ä–æ–≤–µ—Ä—å –º—ç–ø–ø–∏–Ω–≥ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ –∫–æ–ª–æ–Ω–∫–∏?
3. –ü—Ä–æ–≤–µ—Ä—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é ‚Äî –≤—Å–µ –ª–∏ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã?

---

## üìä SUCCESS CRITERIA

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤, –∫–æ–≥–¥–∞:

- ‚úÖ –í—Å–µ –ø–æ–¥—Ç–∏–ø—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ CZK/–º¬≥ –±–µ—Ç–æ–Ω–∞
- ‚úÖ KROS-–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–≤–µ—Ä—Ö, —à–∞–≥ 50)
- ‚úÖ –ú–µ—Å—è—Ü—ã –∏ –Ω–µ–¥–µ–ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å 30/22 –¥–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–µ input-–ø–æ–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∏–º—ã
- ‚úÖ RFI-—Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∏ (–Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç XLSX/CSV –≥–æ—Ç–æ–≤ –∫ KROS4
- ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ Render —á–µ—Ä–µ–∑ Blueprint —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Frontend –∏ Backend —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–∞–∑–¥–µ–ª—å–Ω–æ

---

## üîê –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–ï

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** v4.3 (2025-11-08)

**–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

- **v4.3** (2025-11-08) - Centralize Concrete Volume Input:
  - üéØ **Single point of entry for concrete volume**: moved from table (beton row) to PartHeader
  - ‚ú® **PartHeader now has editable concrete volume field** "Mno≈æstv√≠ betonu celkem:"
  - üîÑ **Synchronization logic**: updatePositions() syncs PartHeader value to beton row qty
  - üîí **Beton row qty is read-only in table**: shows as gray/disabled field
  - üìù **Helpful tooltip for users**: "Editujte v z√°hlav√≠ v√Ω≈°e" (Edit in header above)
  - üé® **New CSS styles**: `.readonly-style` for disabled inputs, `.concrete-input` for PartHeader
  - ‚úÖ **Architecture ready for Excel import**: one concrete field = one Excel column = auto-sync
  - üìä **Data flow simplified**: PartHeader (input) ‚Üí Table (readonly) ‚Üí Calculations
  - **Files changed**: PartHeader.tsx, PositionsTable.tsx, PositionRow.tsx, components.css

- **v4.2.1** (2025-11-08) - Fix Critical Hangs on Bridge Creation:
  - üêõ **Fixed infinite refetch loop in useBridges hook**: setState removed from queryFn
  - üêõ **Fixed race condition in usePositions hook**: setState moved outside queryFn
  - ‚úÖ **Fixed colSpan mismatch**: dynamic colSpan based on isLocked state (16 or 17)
  - ‚úÖ **Improved template position insertion**: transaction wrapper + unique ID generation
  - ‚úÖ **Better error handling in bridge creation**: try-catch in handleCreateSuccess
  - **Root cause**: setState inside React Query queryFn with refetchOnMount creates update loop
  - **Solution**: setState AFTER query completes, not inside queryFn
  - **Impact**: Bridge creation no longer hangs, positions load immediately

- **v4.2** (2025-11-08) - Hierarchical Table Structure:
  - üèóÔ∏è **Fixed critical "N√°zev polo≈æky" duplication** in table headers
  - ‚ú® **Created PartHeader component**: item name displayed once per construction part
  - üóëÔ∏è **Removed "N√°zev polo≈æky" column** from main table (17 ‚Üí 16 columns)
  - üìä **Clean hierarchical structure**: Header ‚Üí Concrete Params ‚Üí Table (subtypes)
  - üéØ **Improved UX**: cleaner, less cluttered table layout
  - ‚úÖ **Fully documented** with visual diagrams in CLAUDE.MD

- **v4.1** (2025-11-07) - KPI Optimization & Template Update:
  - üé® **Optimized KPI Panel layout** (4 columns √ó 2 rows instead of dynamic grid)
  - üóëÔ∏è **Removed Kƒç/t (œÅ=2.4) metric** as per detailed audit requirements
  - üìè **Reduced KPI card sizes**: padding 12px ‚Üí 8px 10px, fonts: label 11px ‚Üí 10px, value 18px ‚Üí 16px
  - üî¢ **Fixed z-index hierarchy**: KPI panel (z-index: 100), table headers (z-index: 90, top: 140px)
  - ‚ú® **Updated bridge templates**: from 15 ‚Üí 24 positions (11 construction parts from detailed spec)
  - üèóÔ∏è **New templates**: ≈ò√çMSY (B37), P≈òECHODOV√â DESKY, MOSTN√ç NOSN√â KONSTRUKCE, SCHODI≈†≈§, PODKLADN√ç VRSTVY, PATKY
  - üìã **KPI Layout**: Row 1 (Celkov√° cena, Kƒç/m¬≥, Mƒõs√≠ce, T√Ωdny), Row 2 (Averages: lidi, Kƒç/hod, hod/den, Re≈æim pr√°ce)
  - üéØ **Fixed sticky behavior**: KPI stays on top, table headers scroll under KPI

- **v4.0** (2025-11-07) - Comprehensive UI/UX Audit Implementation:
  - ‚úÖ **Czech translation complete**: CreateBridgeForm translated from Russian to Czech
  - üé® **True concrete colors**: #F5F5F5 (primary bg), #E8E8E8 (cards/modals), #D0D0D0 (borders)
  - üìù **Added "N√°zev polo≈æky" column**: first editable column with min-width: 250px, orange background
  - ‚ú® **Pre-filled template positions**: 15 positions with Z√ÅKLADY, ≈ò√çMSY, MOSTN√ç OPƒöRY, PIL√ç≈òE, K≈ò√çDLA, MOSTOVKA, V√ùZTU≈Ω
  - üìå **Sticky header**: table and KPI card always visible while scrolling
  - üü† **Orange inputs (#FFA726)** for all editable fields maintained
  - üåÄ **Concrete gradient**: linear-gradient(170deg, #F5F5F5 80%, #E8E8E8 100%)
  - üîí **Database migration**: added item_name column to positions table
  - üìä **Table always visible**: removed "≈Ω√°dn√© pozice" blocking state from previous sessions

- **1.0.5** (2025-11-07):
  - ‚ú® –î–æ–±–∞–≤–ª–µ–Ω—ã ensure-shared-build.js —Å–∫—Ä–∏–ø—Ç—ã (—Ä–µ—à–µ–Ω–∏–µ –æ—Ç Codex)
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ shared –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ prestart/prebuild —Ö—É–∫–∏
  - ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã buildCommand –≤ render.yaml (npm install ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞)
  - ‚úÖ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: —Å–æ–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ dist/ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  - ‚ö†Ô∏è –í–ê–ñ–ù–û: CORS_ORIGIN="*" –∏ VITE_API_URL=sync:false - –ù–ï –∫–æ—Å—Ç—ã–ª–∏!
  - üìù –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è fromService deadlock –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ

- **1.0.4** (2025-11-07):
  - üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ render.yaml
  - ‚úÖ –£–±—Ä–∞–Ω–∞ fromService –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É backend ‚Üî frontend
  - ‚úÖ CORS_ORIGIN –≤—Ä–µ–º–µ–Ω–Ω–æ = "*" (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å)
  - ‚úÖ VITE_API_URL = sync:false (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è backend)
  - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å buildCommand: shared build –ü–ï–†–í–´–ú
  - ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: fromService —Å–æ–∑–¥–∞—ë—Ç deadlock –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ!
  - üìù –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VITE_API_URL –≤ Render dashboard –≤—Ä—É—á–Ω—É—é

- **1.0.3** (2025-11-07):
  - üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ ESM –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è shared –ø–∞–∫–µ—Ç–∞
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ "type": "module" –≤ shared/package.json
  - ‚úÖ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è: CommonJS ‚Üí ES2020
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã .js —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ –∏–º–ø–æ—Ä—Ç—ã (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ ESM)
  - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã TypeScript –æ—à–∏–±–∫–∏ –≤–æ frontend (unused imports, type assertions)
  - ‚ö†Ô∏è –í–ê–ñ–ù–û: shared –ø–∞–∫–µ—Ç –î–û–õ–ñ–ï–ù —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ backend/frontend

- **1.0.2** (2025-11-07):
  - üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è Node.js –¥–ª—è better-sqlite3
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω .nvmrc ‚Üí Node.js 18.20.4 (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω engines –≤ backend/package.json ‚Üí Node 18.x only
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω NODE_VERSION=18.20.4 –≤ render.yaml
  - ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: better-sqlite3 –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Node.js 25.x!

- **1.0.1** (2025-11-07):
  - üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω render.yaml –¥–ª—è Blueprint deployment
  - ‚úÖ Frontend: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `type: web` —Å `env: static` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
  - ‚úÖ –£–¥–∞–ª—ë–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä 'region' (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è free tier)
  - ‚ö†Ô∏è –í–ê–ñ–ù–û: Render Blueprint —Ç—Ä–µ–±—É–µ—Ç `type: web` + `env: static`, –ù–ï `type: static`!

- **1.0.0** (2025-11-07):
  - ‚úÖ –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è core-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  - ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ CZK/–º¬≥
  - ‚úÖ KROS-–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ
  - ‚úÖ –†–∞—Å—á—ë—Ç –º–µ—Å—è—Ü–µ–≤/–Ω–µ–¥–µ–ª—å ‚≠ê NEW
  - ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å 30/22 –¥–Ω—è ‚≠ê NEW
  - ‚úÖ –ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–µ input-–ø–æ–ª—è
  - ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ Render
  - ‚úÖ CLAUDE.MD —Å–æ–∑–¥–∞–Ω

---

## üìû –ö–û–ù–¢–ê–ö–¢–´

- **Repository:** https://github.com/alpro1000/Monolit-Planner
- **Issues:** https://github.com/alpro1000/Monolit-Planner/issues
- **Branch:** `claude/monolit-planner-core-011CUtRicaEySo6zsaBmswVi`

---

**üèóÔ∏è Made for bridge builders in Czech Republic**

**‚ö° –í–ê–ñ–ù–û: –ü—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –û–ë–ù–û–í–õ–Ø–ô –≠–¢–û–¢ –§–ê–ô–õ!**
